{% extends 'frontP.html.twig' %}
{% block title %}calculator{% endblock %}

{% block encheres %}
<section class="calculator-section">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <div class="calculator-form">
                    <h2 class="section-title">Financing Calculator</h2>
                    <form action="{{ path('app_calculator') }}" method="post">
                        {{ form_start(form) }}
                        <div class="form-group">
                            {{ form_label(form.vehiclePrice, 'Vehicle Price', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.vehiclePrice, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="form-group">
                            {{ form_label(form.interestRate, 'Interest Rate (%)', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.interestRate, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="form-group">
                            {{ form_label(form.period, 'Period (months)', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.period, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="form-group">
                            {{ form_label(form.downPayment, 'Down Payment', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.downPayment, {'attr': {'class': 'form-control'}}) }}
                        </div>
                      
                        {{ form_end(form) }}
                    </form>
                </div>
                {% if monthlyPayment is defined %}
                <div class="result-section">
                    <h3 class="section-title">Monthly Payment:</h3>
                  <p>{{ monthlyPayment|number_format(3, '.', ' ') }} TND</p>
                </div>
                {% endif %}
            </div>
            <div class="col-md-5">
                <div class="sidebar-widget">
                    <div class="widget-image">
                  <div class="thumb"><img src="images/about/sidebar-vichel.jpg" alt="sidebar-vichel.jpg"></div>
                    </div>
                    <div class="widget-content">
                        <h3 class="widget-title">Vehicle Available</h3>
                        <p class="widget-text">Find the right price, dealer and advice.</p>
                        <p class="widget-subtitle">CALL US NOW</p>
                        <a href="#" class="widget-phone">+1 670 936 46 70</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<style>
  .calculator-section {
    background: linear-gradient(120deg, #ff6e7f, #bfe9ff);
}

/* Couleur de fond pour le formulaire */
.calculator-form {
    background-color: rgba(255, 255, 255, 0.8); /* Couleur blanche avec opacité */
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
}

/* Couleur de fond pour le bouton Calculate */
.calculator-form .btn-primary {
    background-color: #6c5ce7; /* Violet */
    border-color: #6c5ce7;
    transition: background-color 0.3s ease; /* Transition fluide de la couleur de fond */
}

.calculator-form .btn-primary:hover {
    background-color: #4834d4; /* Changement de couleur au survol */
}
.result-section {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    background-color: #f8f9fa; /* Couleur de fond */
    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1); /* Ombre portée */
}

/* Titre de la section de résultat */
.result-section .section-title {
    font-size: 24px;
    color: #6c757d; /* Couleur du titre */
}

/* Paragraphe pour afficher le résultat */
.result-section p {
    font-size: 20px;
    color: #343a40; /* Couleur du texte */
}
.result-section p {
    font-size: 20px;
    color: #343a40; /* Couleur du texte */
    transition: color 0.3s ease; /* Transition fluide de la couleur du texte */
}

/* Changement de couleur au survol */
.result-section p:hover {
    color: #6c757d; /* Nouvelle couleur au survol */
}
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');

    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Empêcher la soumission par défaut du formulaire

        // Ajouter une classe pour déclencher une animation
        form.classList.add('submitted');

        // Ajouter un délai pour simuler une tâche asynchrone
        setTimeout(function() {
            form.submit(); // Soumettre le formulaire après l'animation
        }, 1000); // Délai de 1 seconde (ajustable selon vos besoins)
    });
});
</script>

{% endblock %}
{% block featured %}{% endblock %}