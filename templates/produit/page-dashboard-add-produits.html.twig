{% extends 'base.html.twig' %}

{% block title %}Add Product{% endblock %}
{% block pane %}
    <h1>Create New Product</h1>
	
	<section class="our-dashbord dashbord bgc-f9">
		<div class="container-fluid">
			<div class="row">
        <div class="col-xxl-10 offset-xxl-2 dashboard_grid_space">
					
					<div class="row">
						<div class="col-xl-8">
              <div class="col-lg-12 mb50">
                <div class="breadcrumb_content">
                  <h2 class="breadcrumb_title">Add Listing</h2>
                  <p>Ready to jump back in?</p>
                </div>
              </div>
						</div>
					</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="new_property_form">
              {{ form_start(form, {'attr': {'novalidate': 'novalidate', 'enctype': 'multipart/form-data'}}) }}

                <h4 class="title mb30">Produit</h4>
                  <div class="row">
                  <div class="col-md-12">
                  <div class="mb20">
               {{ form_label(form.labelle, "Labelle") }}
                {{ form_widget(form.labelle, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.labelle) }}
                  </div>
                </div>
          
                  <div class="col-md-12">
                      <div class="mb20">
                   {{ form_label(form.prix, "Prix") }}
                    {{ form_widget(form.prix, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.prix) }}
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="mb20">
                   {{ form_label(form.description, "Description") }}
                    {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.description) }}
                      </div>
                    </div>
      
                    <div class="col-md-12">
                      <div class="mb20">
                   {{ form_label(form.type, "Type") }}
                    {{ form_widget(form.type, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.type) }}
                      </div>
                    </div>
      
                    <div class="col-md-12">
                      <div class="mb20">
                   {{ form_label(form.status, "Status") }}
                    {{ form_widget(form.status, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.status) }}
                      </div>
                    </div>
                    <div class="col-md-12">
                    <div class="mb20">
                 {{ form_label(form.periodeGarantie, "PÃ©riode de Garantie") }}
                  {{ form_widget(form.periodeGarantie, {'attr': {'class': 'form-control'}}) }}
                  {{ form_errors(form.periodeGarantie) }}
                    </div>
                  </div>
                  <div class="col-md-12">
                  <div class="mb20">
                      {{ form_label(form.photo, "Photo") }}
                      <input type="file" name="file" style="display: none;" onchange="previewImage(this)">
                      <span class="input-group-btn">
                          <button class="btn btn-secondary" type="button" onclick="document.getElementsByName('file')[0].click()">Browse</button>
                      </span>
                      <img id="imagePreview" src="{{ asset('path_to_your_images_directory/' ~ form.photo.vars.value) }}" alt="Preview" style="max-width: 100%; display: block; margin-top: 10px;">
                      {{ form_errors(form.photo) }}
                  </div>
              </div>
              

                <div class="col-md-12">
                <div class="mb20">
             {{ form_label(form.localisation, "Localisation") }}
              {{ form_widget(form.localisation, {'attr': {'class': 'form-control'}}) }}
              {{ form_errors(form.localisation) }}
                  </div>
                </div>

                <div class="form-group">
                  {{ form_label(form.idUtilisateur, "Select User") }}
                  {{ form_widget(form.idUtilisateur, {'attr': {'class': 'form-control'}}) }}
                </div>

                <div class="col-md-12">
                  <div class="mb20">
                    <button type="submit" class="btn btn-primary">Ajouter un produit</button>
                  </div>
                </div>

              {{ form_end(form) }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    function previewImage(input) {
      var preview = document.getElementById('imagePreview');
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
          preview.src = e.target.result;
        }
        reader.readAsDataURL(input.files[0]);
      }
    }
  </script>
{% endblock %}
